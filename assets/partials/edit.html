<div class="row">
	<div class="container">
		<div class="row">
			<div class="col-md-9">
				<h1>{{event_data.title}}</h1>
				<p class="text-muted" style="padding-left:2px;margin-bottom: 0px">Created by {{event_data.owner}} on {{event_data.created_on | date:'mediumDate':'+0530'}}</p>
			</div>
			<div class="col-md-3">
				<div class="row" style="padding-top: 20px;">
					<div class="col-md-6">
						<button class="btn btn-danger btn-block" style="margin-bottom: 10px;" data-toggle="modal" data-target="#share_event_modal"><span class="glyphicon glyphicon-share" aria-hidden="true"></span> Share</button>
					</div>
					<div class="col-md-6">
						<button class="btn btn-default btn-block" ui-sref="event_edit({slug:event_data.slug})">Edit Event</button>
					</div>
				</div>
			</div>
		</div>
		<hr style="margin-top: 10px">
	</div>
</div>
<div class="row">
	<div class="container">
		<div class="col-md-8">
			<h4 class="text-muted">The group spent {{event_data.currency}} <b class="text-primary">{{event_data.total_spent | currency : ''}}</b> in total.</h4>
			<!-- <div class="row-fluid">
				<h3>These are the final balances</h3>
				<div class="row">
					<div class="col-md-4">
						<h4 class="text-center">Positive</h4>
						<p ng-repeat="item in balance_baskets.positive">{{item.name}}<span class="pull-right">{{item.balance}}</span></p>
					</div>
					<div class="col-md-4">
						<h4 class="text-center">Negative</h4>
						<p ng-repeat="item in balance_baskets.negative">{{item.name}}<span class="pull-right">{{item.balance}}</span></p>
					</div>
					<div class="col-md-4">
						<h4 class="text-center">Already Settled</h4>
						<p ng-repeat="item in balance_baskets.clear">{{item.name}}<span class="pull-right">{{item.balance}}</span></p>
					</div>
				</div>
			</div> -->
			<div class="row-fluid">
				<h3 ng-if="settlements.length > 0">How to settle all debts</h3>
				<h3 ng-if="settlements.length == 0">Everything is already settled.</h3>
				<div class="row">
					<ul class="col-md-8 list-settlements">
					  	<li ng-repeat="settlement in settlements">
					  		<div class="clearfix">
					  			<p class="pull-right text-muted" style="font-size: 10pt;font-weight:900;padding-top: 8px;">{{event_data.currency}}</p>
					  			<p class="pull-left" style="font-size: 14pt;">{{settlement.from.name}}</p>
					  		</div>
					  		<div class="clearfix">
					  			<p class="pull-left"><span class="glyphicon glyphicon-arrow-right" aria-hidden="true" style="color:#16a085"></span>
					  		{{settlement.to.name}}</p>
					  			<p class="pull-right text-info">{{settlement.amount | currency : ''}}</p>
					  		</div>
					  	</li>
					</ul>
				</div>
			</div>
			<!-- <div class="table-responsive" style="width: 100%;overflow: auto;"> 
				<table class="table table-striped text-center">
					<thead>
						<tr style="font-weight: 900;">
							<td></td>
							<td ng-repeat="buddy in event_data.members">{{buddy.name}}</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="expense in event_data.expenses">
							<td style="font-weight: 900;">{{expense.name}}</td>
							<td ng-repeat="payer in expense.payers">{{payer.amount}}</td>
						</tr>
					</tbody>
				</table>
			</div> -->
		</div>
		<div class="col-md-4 panel-overview">
			<div class="row-fluid">
				<h3 style="font-variant: small-caps;">Buddies</h3>
				<ul>
					<li ng-repeat="member in event_data.members | orderBy:'name'" ng-if="member.name">{{member.name}}</li>
				</ul>
			</div>
			<div class="row-fluid">
				<div>
					<button class="pull-right btn btn-default btn-sm" ui-sref="expense_add({slug:event_data.slug})">Add Expense</button>
					<h3 style="font-variant: small-caps;">Expenses</h3>
				</div>
				<ul>
					<li ng-repeat="expense in event_data.expenses | orderBy:'created_on':true">
						<div class="row-fluid clearfix title">
							<div class="pull-right">
								<!-- <span><a href=""><span class="glyphicon glyphicon-edit" aria-hidden="true"></span></a></span> -->
								<span><a href="" ng-click="removeExpense(expense.id)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></span>
							</div>
							<h4>{{expense.name}}</h4>
						</div>
						<div class="row-fluid description">
							<p class="text-muted">
								Added by {{expense.added_by_name}} on {{expense.created_on | date:'short':'+0530'}}
								<br>
								Total amout : {{event_data.currency}} {{expense.tot_amount | currency : ''}}
							</p>
						</div>
						<div class="row-fluid details">
							<h5>Paid by</h5>
							<p class="text-muted" ng-repeat="payer in expense.payers| orderBy : 'amount': true" ng-if="payer.amount > 0">{{payer.name}} <span class="pull-right">{{event_data.currency}} {{payer.amount | currency : ''}}</span></p>
							<h5>Shared between</h5>
							<p class="text-muted"><span ng-repeat="payee in expense.payees | orderBy : 'name'">{{($index != expense.payees.length-1)?payee.name+', ':payee.name}} </span></p>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>	
</div>
