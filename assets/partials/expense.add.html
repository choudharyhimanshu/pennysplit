<div class="row">
	<div class="container">
		<h1>{{event_data.title}}</h1>
		<hr>
	</div>
</div>
<div class="row">
	<div class="container">
		<div class="col-md-8">
			<h2>Add expenses</h2>
			<div class="row">
				<form class="col-md-8" name="expenseForm">
				  	<div class="form-group">
				    	<label for="expenseFormName">Expense Name</label>
				    	<input type="text" class="form-control" name="expenseFormName" id="expenseFormName" ng-model="form_expense.name" placeholder="" required>
				  	</div>
				  	<div class="form-group">
				    	<label for="expenseFormName">You are</label>
				    	<select class="form-control" ng-model="form_expense.added_by" ng-options="buddy.id as buddy.name for buddy in event_data.members" required>
				    	</select>
				  	</div>
				  	<div class="form-group">
				    	<label for="expenseFormPaidBy">Paid by</label>
	    		    	<div class="row-fluid">
    		    			<div class="checkbox">
    		    			    <label>
    		    			      	<input type="checkbox" ng-model="flag_multiple_payers">Multiple People
    		    			    </label>
    		    			</div>
	    		    	</div>
				    	<div class="row inp-payer" ng-repeat="payer in form_expense.payers">
				    		<div class="col-md-8">
				    			<select class="form-control" ng-model="payer.id" ng-options="buddy.id as buddy.name for buddy in event_data.members" required>
				    			</select>
				    		</div>
				    		<div class="col-md-4">
				    			<div class="input-group">
				  	      			<input type="number" step="0.1" min="0" max="10000000" class="form-control" name="expenseFormPaidAmount" id="expenseFormPaidAmount" ng-model="payer.amount" placeholder="Amount" required>
									<span class="input-group-btn">
										<button class="btn btn-default" type="button" ng-click="removePayer($index)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
									</span>
			      			    </div>
				    		</div>
				    	</div>
				    	<div class="row-fluid" ng-show="flag_multiple_payers">
				    		<button type="button" class="btn btn-default btn-lg btn-block" ng-click="addPayer()" style="margin-top: 10px;"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
				    	</div>
				    	<p class="help-block" ng-show="flag_min_payers">Someone did pay. Right?</p>
				  	</div>
				  	<div class="form-group">
				  		<label for="expenseFormPayee">Shared Between</label>
				  		<div class="checkbox">
				  		    <label>
				  		      	<input type="checkbox" value="{{member.id}}" name="expenseFormPayee" id="expenseFormPayee" ng-init="flag_share_all = true" ng-model="flag_share_all">All
				  		    </label>
				  		</div>
				  		<div class="checkbox" ng-show="!flag_share_all" ng-repeat="payee in form_expense.payees | orderBy:'name'">
				  		    <label>
				  		      	<input type="checkbox" value="{{payee.id}}" name="expenseFormPayee" id="expenseFormPayee" ng-model="payee.flag">{{payee.name}}
				  		    </label>
				  		</div>
				  	</div>
				  	<div class="form-group">
					  	<button type="submit" class="btn btn-default btn-lg btn-block" ng-click="submitExpense()" style="background-color: #34495e;color: #fff;">Submit</button>
					</div>
				</form>
				{{message}}
			</div>
		</div>
		<div class="col-md-4 panel-overview">
			<div class="row-fluid">
				<div class="pull-right"><span class="glyphicon glyphicon-edit" aria-hidden="true" ui-sref="event_edit({slug:event_data.slug})"></span></div>
				<h3 class="">Event</h3>
				<p>Created by {{event_data.owner}} on {{event_data.created_on | date:'longDate'}}</p>
				<h4>Buddies</h4>
				<ul>
					<li ng-repeat="member in event_data.members | orderBy: 'name'">{{member.name}}</li>
				</ul>
			</div>
			<hr>
			<div class="row-fluid">
				<h4>Expenses</h4>
				<ul>
					<li ng-repeat="expense in event_data.expenses | orderBy: 'name'">
						{{expense.name}}
						<div class="pull-right">
							<span><a href="">Edit</a></span>
							<span><a href="" ng-click="removeExpense(expense.id)">Delete</a></span>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>	
</div>


