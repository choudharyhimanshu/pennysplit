<div class="row">
	<div class="container">
		<h1>{{event_data.title}}</h1>
		<p class="text-muted" style="padding-left:2px;margin-bottom: 0px">Created by {{event_data.owner}} on {{event_data.created_on * 1000 | date:'mediumDate'}}</p>
		<hr style="margin-top: 10px">
	</div>
</div>
<div class="row">
	<div class="container">
		<div class="col-md-8">
			<h4 class="text-muted">The group spent {{event_data.currency}} <b class="text-primary">{{event_data.total_spent | currency : ''}}</b> in total.</h4>
			<div class="row-fluid">
				<h3>How to settle all debts</h3>
				<div class="row">
					<ul class="col-md-8 list-settlements">
					  	<li ng-repeat="settlement in settlements">
					  		<div class="clearfix">
					  			<p class="pull-right text-muted" style="font-size: 10pt;font-weight:900;padding-top: 8px;">{{event_data.currency}}</p>
					  			<p class="pull-left" style="font-size: 14pt;">{{settlement.from.name}}</p>
					  		</div>
					  		<div class="clearfix">
					  			<p class="pull-left"><span class="glyphicon glyphicon-arrow-right" aria-hidden="true" style="color:#16a085"></span>{{settlement.to.name}}</p>
					  			<p class="pull-right text-info">{{settlement.amount | currency : ''}}</p>
					  		</div>
					  	</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="col-md-4 panel-overview">
			<div class="row-fluid">
				<h3 style="font-variant: small-caps;">Buddies</h3>
				<p>
					<span ng-repeat="member in event_data.members | orderBy : 'name'" style="color:#34495e; font-size: 11pt;">{{($index != event_data.members.length-1)?member.name+', ':member.name}}</span>
				</p>
			</div>
			<div class="row-fluid">
				<div>
					<h3 style="font-variant: small-caps;">Expenses</h3>
					<p class="text-muted small">(Hover over any expense to see the details)</p>
				</div>
				<ul>
					<li ng-repeat="expense in event_data.expenses | orderBy:'created_on':true">
						<div class="row-fluid clearfix title">
							<h4>{{expense.name}}</h4>
						</div>
						<div class="row-fluid description">
							<p class="text-muted">
								Added by {{event_data.members[expense.added_by].name}} on {{expense.created_on * 1000 | date:'short'}}
								<br>
								Total amout : {{event_data.currency}} {{expense.tot_amount | currency : ''}}
							</p>
						</div>
						<div class="row-fluid details">
							<h5>Paid by</h5>
							<p class="text-muted" ng-repeat="payer in expense.payers| orderBy : 'amount': true" ng-if="payer.amount > 0">{{payer.name}} <span class="pull-right">{{event_data.currency}} {{payer.amount | currency : ''}}</span></p>
							<h5>Shared between</h5>
							<p class="text-muted"><span ng-repeat="payee in expense.payees | orderBy : 'name'">{{($index != expense.payees.length-1)?payee.name+', ':payee.name}} </span></p>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>	
</div>
